function BuscarDatos(a){precargaExp("#pnlListado",!0),$.ajax({url:"services/ventas/ventas-search.php",type:"GET",cache:!1,dataType:"json",data:{tipobusqueda:"1",idempresa:$("#hdIdEmpresa").val(),idcentro:$("#hdIdCentro").val(),criterio:$("#txtSearch").val(),pagina:a},success:function(t){var s=t.length,e=0,o="";if(s>0){for(;e<s;){var r=t[e].SimboloMoneda+" "+Number(t[e].tm_base_imponible).toFixed(2),n=t[e].SimboloMoneda+" "+Number(t[e].tm_impuesto).toFixed(2),c=t[e].SimboloMoneda+" "+Number(t[e].tm_total).toFixed(2);o+="<div ",o+='data-id="'+t[e].tm_idventa+'" ',o+='class="result item pos-rel animate mdl-shadow--2dp margin10">',o+='<div class="col-md-4">',o+="<h4>ID Venta #"+t[e].tm_idventa+"</h4>",o+='<p class="lugar"><strong>Cod. Venta: </strong>'+t[e].CodigoVenta+"</p>",o+='<p class="lugar"><strong>Tipo de comprobante: </strong>'+t[e].TipoComprobante+"</p>",o+='<p class="lugar"><strong>Fecha: </strong>'+ConvertMySQLDate(t[e].tm_fecha_emision)+"</p>",o+="</div>",o+='<div class="col-md-4">',o+="<h4>Cliente:</h4>",o+='<span class="duracion">'+t[e].Cliente+"</span>",o+="</div>",o+='<div class="col-md-4">',o+='<h4 class="text-center">Monto de venta</h4>',o+='<h5 class="row"><strong class="col-md-4">Base imponible: </strong><span class="col-md-8 blue-text text-right">'+r+"</span></h5>",o+='<h5 class="row"><strong class="col-md-4">Impuestos deducidos: </strong><span class="col-md-8 blue-text text-right">'+n+"</span></h5>",o+='<h5 class="row"><strong class="col-md-4">Total de importe: </strong><span class="col-md-8 blue-text text-right">'+c+"</span></h5>",o+='<div class="clear"></div>',o+="</div>",o+="</div>",++e}datagrid.currentPage(datagrid.currentPage()+1),"1"==a?$("#gvDatos").html(o):$("#gvDatos").append(o)}else"1"==a&&$("#gvDatos").html("<h2>No se encontraron resultados.</h2>");precargaExp("#pnlListado",!1)},error:function(a){console.log(a)}})}$(function(){BuscarDatos("1")});var datagrid=new DataList("gvDatos",{actionbar:"generic-actionbar",onSearch:function(){BuscarDatos(datagrid.currentPage())}});