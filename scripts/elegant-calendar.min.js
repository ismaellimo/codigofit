!function(t,e){"use strict";function i(){var t=n.getFullYear(),e=n.getMonth(),i=n.getDate(),s=[addLeadingZero(i),addLeadingZero(e+1),t].join("/");return s}var n=new Date,s={monthTag:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],initDate:i(),onInit:$.noop(),onDayClick:$.noop(),onMonthChange:$.noop()},a=function(t,e){this.container=$(t),"string"==typeof t&&(this.container=$(t)),this.days=this.container.find("td"),this.settings=$.extend({},s,e);var i=this.settings.initDate.match(/\d+/g),n=new Date(i[2],i[1]-1,i[0]);this._setDay(n),this._init()};a.prototype._init=function(){this._getCookie("selected_day"),this._drawDays();var t=this,e=this.container.find(".reset"),i=this.container.find(".pre-button"),n=this.container.find(".next-button");i.on("click",function(e){e.preventDefault(),t.preMonth()}),n.on("click",function(e){e.preventDefault(),t.nextMonth()}),e.on("click",function(e){e.preventDefault(),t.resetDate()}),this.container.on("click","td:not(.disabled) > button",function(e){e.preventDefault(),t._clickDay(this)}),this.settings.onInit(t)},a.prototype._setDay=function(t){this.selectedDay=t,this.setDate=t,this.day=t.getDate(),this.year=t.getFullYear(),this.month=t.getMonth()},a.prototype._drawHeader=function(t){var e=this.container.find(".head-day"),i=this.container.find(".head-month");t?e.html(t):e.html(this.day),i.html(this.settings.monthTag[this.month].substr(0,3)+" - "+this.year)},a.prototype._drawDays=function(){for(var t=new Date(this.year,this.month,1).getDay(),e=new Date(this.year,this.month+1,0).getDate(),i=t,s=0;s<42;s++){var a=this.days[s].childNodes[0];a.classList.remove("open"),a.innerHTML="",this.days[s].classList.remove("disabled","selected","today")}for(var o=1;o<=e;o++){var h=this.days[i].childNodes[0];h.innerHTML=o,h.classList.add("day"),h.setAttribute("data-day",o),h.setAttribute("data-month",this.month+1),h.setAttribute("data-year",this.year),o===n.getDate()&&this.month===n.getMonth()&&this.year===n.getFullYear()&&(this._drawHeader(this.day),this.days[i].classList.add("today")),i++}for(var r=0;r<42;r++)""===this.days[r].childNodes[0].innerHTML&&this.days[r].classList.add("disabled"),this.selectedDay&&r===this.selectedDay.getDate()+t-1&&this.month===this.selectedDay.getMonth()&&this.year===this.selectedDay.getFullYear()&&(this.days[r].classList.add("selected"),this._drawHeader(this.selectedDay.getDate()))},a.prototype._clickDay=function(t){this.container.find(".selected").removeClass("selected"),t.parentNode.classList.add("selected");var e=new Date(this.year,this.month,t.innerHTML);this._setDay(e),this._drawHeader(t.innerHTML),this._setCookie("selected_day",1),this.settings.onDayClick(t)},a.prototype.getCurrentDate=function(t){t="undefined"!=typeof t?t:"/";var e=addLeadingZero(this.day),i=this.month,n=this.year;return"large"==t?e+" de "+this.settings.monthTag[i]+" del aÃ±o "+n:("-"===t?[n,addLeadingZero(i+1),e]:[e,addLeadingZero(i+1),n]).join(t)},a.prototype.preMonth=function(){this.month<1?(this.month=11,this.year=this.year-1):this.month=this.month-1,this._drawHeader(1),this._drawDays(),this.settings.onMonthChange(this)},a.prototype.nextMonth=function(){this.month>=11?(this.month=0,this.year=this.year+1):this.month=this.month+1,this._drawHeader(1),this._drawDays(),this.settings.onMonthChange(this)},a.prototype.resetDate=function(){this.selectedDay=!1,this.month=n.getMonth(),this.year=n.getFullYear(),this.day=n.getDate(),this._drawDays()},a.prototype._setCookie=function(t,i){if(i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3);var s="; expires="+n.toGMTString()}else var s="";e.cookie=t+"="+this.selectedDay+s+"; path=/"},a.prototype._getCookie=function(t){if(e.cookie.length)for(var i=e.cookie.split(";"),n=t+"=",s=0,a=i.length;s<a;s++){for(var o=i[s];" "==o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(n)){var h=new Date(o.substring(n.length,o.length));this._setDay(h)}}},"function"==typeof define&&define.amd?define([],function(){return a}):"object"==typeof exports?module.exports=a:t.Calendar=a}(window,document);